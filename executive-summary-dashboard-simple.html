<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Summary Dashboard | OSUS Properties</title>
    
    <!-- Chart.js for reliable charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        
        /* OSUS Brand Colors */
        :root {
            --osus-primary: #800020;
            --osus-secondary: #A0253A;
            --osus-accent: #C04A5C;
            --osus-gold: #D4AF37;
            --osus-light-gold: #F5E6A8;
            --osus-dark: #5C001A;
        }
        
        .bg-osus-primary { background-color: var(--osus-primary); }
        .bg-osus-secondary { background-color: var(--osus-secondary); }
        .bg-osus-gold { background-color: var(--osus-gold); }
        .text-osus-primary { color: var(--osus-primary); }
        .text-osus-gold { color: var(--osus-gold); }
        .border-osus-primary { border-color: var(--osus-primary); }
        .border-osus-gold { border-color: var(--osus-gold); }
        
        /* Custom animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .metric-card {
            transition: all 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--osus-primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-6">
                <div class="flex items-center">
                    <h1 class="text-3xl font-bold montserrat text-osus-primary">OSUS Properties</h1>
                    <span class="ml-4 text-sm bg-osus-gold text-white px-3 py-1 rounded-full">Executive Dashboard</span>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-600">Reporting Period</p>
                    <p class="font-semibold text-osus-primary">April 2025 - October 2024</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Key Metrics Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Total Leads -->
            <div class="metric-card bg-white rounded-xl shadow-lg p-6 border-l-4 border-osus-primary fade-in-up">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 uppercase tracking-wide">Total Leads</p>
                        <p class="text-3xl font-bold text-osus-primary font-mono">20,794</p>
                        <p class="text-xs text-gray-500 mt-1">Lead Generation Performance</p>
                    </div>
                    <div class="bg-red-100 p-3 rounded-full">
                        <svg class="w-6 h-6 text-osus-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Total Customers -->
            <div class="metric-card bg-white rounded-xl shadow-lg p-6 border-l-4 border-osus-gold fade-in-up">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 uppercase tracking-wide">Total Customers</p>
                        <p class="text-3xl font-bold text-osus-gold font-mono">133</p>
                        <p class="text-xs text-gray-500 mt-1">Successful Conversions</p>
                    </div>
                    <div class="bg-yellow-100 p-3 rounded-full">
                        <svg class="w-6 h-6 text-osus-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="8" r="7"></circle>
                            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Conversion Rate -->
            <div class="metric-card bg-white rounded-xl shadow-lg p-6 border-l-4 border-osus-secondary fade-in-up">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 uppercase tracking-wide">Conversion Rate</p>
                        <p class="text-3xl font-bold text-osus-secondary font-mono">0.64%</p>
                        <p class="text-xs text-gray-500 mt-1">Lead to Customer Ratio</p>
                    </div>
                    <div class="bg-red-100 p-3 rounded-full">
                        <svg class="w-6 h-6 text-osus-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10"></circle>
                            <circle cx="12" cy="12" r="6"></circle>
                            <circle cx="12" cy="12" r="2"></circle>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Top Source -->
            <div class="metric-card bg-white rounded-xl shadow-lg p-6 border-l-4 border-osus-accent fade-in-up">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 uppercase tracking-wide">Top Source</p>
                        <p class="text-2xl font-bold text-osus-accent">Facebook</p>
                        <p class="text-xs text-gray-500 mt-1">10,511 leads (50.6%)</p>
                    </div>
                    <div class="bg-pink-100 p-3 rounded-full">
                        <svg class="w-6 h-6 text-osus-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                            <polyline points="17 6 23 6 23 12"></polyline>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            
            <!-- Lead Sources Chart -->
            <div class="bg-white rounded-xl shadow-lg p-6 fade-in-up">
                <h3 class="text-xl font-bold text-osus-primary mb-4 montserrat">Lead Sources Performance</h3>
                <div class="chart-container">
                    <canvas id="leadSourcesChart"></canvas>
                </div>
            </div>

            <!-- Conversion Funnel -->
            <div class="bg-white rounded-xl shadow-lg p-6 fade-in-up">
                <h3 class="text-xl font-bold text-osus-primary mb-4 montserrat">Conversion Funnel</h3>
                <div class="chart-container">
                    <canvas id="conversionFunnelChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Top Performers Section -->
        <div class="bg-white rounded-xl shadow-lg p-6 fade-in-up">
            <h3 class="text-xl font-bold text-osus-primary mb-6 montserrat">Top Performing Team Members</h3>
            <div class="overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Leads</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customers</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Conversion Rate</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Performance</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="performersTable">
                        <!-- Table rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Strategic Recommendations -->
        <div class="bg-white rounded-xl shadow-lg p-6 mt-8 fade-in-up">
            <h3 class="text-xl font-bold text-osus-primary mb-6 montserrat">Strategic Recommendations</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <div class="bg-gradient-to-br from-red-50 to-pink-50 p-4 rounded-lg border-l-4 border-osus-primary">
                    <h4 class="font-semibold text-osus-primary mb-2">🎯 Focus on High-Performing Sources</h4>
                    <p class="text-sm text-gray-700">Facebook generates 50.6% of leads. Increase investment in Facebook advertising and optimize campaigns for better ROI.</p>
                </div>

                <div class="bg-gradient-to-br from-yellow-50 to-amber-50 p-4 rounded-lg border-l-4 border-osus-gold">
                    <h4 class="font-semibold text-osus-gold mb-2">📈 Improve Conversion Rate</h4>
                    <p class="text-sm text-gray-700">Current 0.64% conversion rate has room for improvement. Implement lead nurturing campaigns and improve qualification processes.</p>
                </div>

                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg border-l-4 border-blue-600">
                    <h4 class="font-semibold text-blue-600 mb-2">🏆 Replicate Top Performer Strategies</h4>
                    <p class="text-sm text-gray-700">Khaoula Boutouil has the highest conversion rate (3.3%). Analyze and replicate her successful strategies across the team.</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Data for charts
        const leadSourcesData = {
            labels: ['Facebook', 'Instagram', 'Special Referral', 'WhatsApp', 'Landing Page', 'E-Mail', 'Others'],
            datasets: [{
                label: 'Leads Generated',
                data: [10511, 6863, 2315, 647, 163, 115, 270],
                backgroundColor: [
                    '#800020', // OSUS Primary
                    '#A0253A', // OSUS Secondary
                    '#C04A5C', // OSUS Accent
                    '#D4AF37', // OSUS Gold
                    '#F5E6A8', // Light Gold
                    '#5C001A', // Dark Burgundy
                    '#8B4513'  // Brown
                ],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        };

        const conversionFunnelData = {
            labels: ['NEW', 'ATTEMPT', 'CONTACTED', 'OPTIONS SENT', 'CUSTOMER'],
            datasets: [{
                label: 'Pipeline Count',
                data: [35, 2563, 1253, 667, 133],
                backgroundColor: [
                    '#800020', // OSUS Primary
                    '#A0253A', // OSUS Secondary
                    '#C04A5C', // OSUS Accent
                    '#D4AF37', // OSUS Gold
                    '#F5E6A8'  // Light Gold
                ],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        };

        const topPerformers = [
            { name: 'Radwa Ahmed', leads: 323, customers: 8, rate: 2.5 },
            { name: 'Karim El Sabagh', leads: 295, customers: 8, rate: 2.7 },
            { name: 'Khaoula Boutouil', leads: 182, customers: 6, rate: 3.3 },
            { name: 'Alisar Al Najdi', leads: 272, customers: 7, rate: 2.6 },
            { name: 'Saad Khan', leads: 386, customers: 4, rate: 1.0 },
            { name: 'Samia Khan', leads: 283, customers: 4, rate: 1.4 },
            { name: 'Faraaz Arif', leads: 189, customers: 3, rate: 1.6 },
            { name: 'Mariam Rahouli', leads: 365, customers: 2, rate: 0.5 }
        ];

        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            
            // Lead Sources Chart
            const ctx1 = document.getElementById('leadSourcesChart').getContext('2d');
            new Chart(ctx1, {
                type: 'doughnut',
                data: leadSourcesData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((context.parsed / total) * 100).toFixed(1);
                                    return context.label + ': ' + context.parsed.toLocaleString() + ' (' + percentage + '%)';
                                }
                            }
                        }
                    }
                }
            });

            // Conversion Funnel Chart
            const ctx2 = document.getElementById('conversionFunnelChart').getContext('2d');
            new Chart(ctx2, {
                type: 'bar',
                data: conversionFunnelData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString();
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });

            // Populate performers table
            const tableBody = document.getElementById('performersTable');
            topPerformers.forEach((performer, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                
                const performanceClass = performer.rate >= 2.5 ? 'text-green-600' : performer.rate >= 1.5 ? 'text-yellow-600' : 'text-red-600';
                const performanceIcon = performer.rate >= 2.5 ? '🏆' : performer.rate >= 1.5 ? '⭐' : '📈';
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${performer.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${performer.leads.toLocaleString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${performer.customers}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm ${performanceClass} font-semibold">${performer.rate}%</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${performanceIcon}</td>
                `;
                tableBody.appendChild(row);
            });

            // Add fade-in animation to elements
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.fade-in-up').forEach((el) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                observer.observe(el);
            });
        });
    </script>
</body>
</html>
